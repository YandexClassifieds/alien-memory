
        <!DOCTYPE html>
        <html lang="ru" dir="ltr">
            <head>
                <meta charset="utf-8">
                <base href="../" />
                
                
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Path и MemoryPtr</title>
                <style type="text/css">
                    body {
                        height: 100vh;
                    }
                </style>
                <link type="text/css" rel="stylesheet" href="_bundle/vendor.css" />
<link type="text/css" rel="stylesheet" href="_bundle/app.css" />
                
                
            </head>
            <body class="g-root g-root_theme_light">
                <div id="root"></div>
                <script type="application/javascript">
                   window.STATIC_CONTENT = false
                   window.__DATA__ = {"data":{"meta":{"metadata":[],"style":[],"script":[],"csp":[]},"assets":[],"headings":[{"title":"Таблица термов для Path","href":"pages/pointers.html#tablica-termov-dlya","level":2},{"title":"Доступ к памяти","href":"pages/pointers.html#dostup-k-pamyati","level":2}],"title":"Path и MemoryPtr","includes":[],"html":"<p>Для того чтобы получить доступ к самой памяти, нужно получить относительный указатель на нее <code>MemoryPtr*</code>. Он используется для того чтобы эффективно обращаться в память по нужным смещениям. <code>Path</code> используется для навигации по сложной структуре данных, описанных через <code>Layout</code>.<br />\nНавигация начинается с корневого Layout. Углубляемся внутрь через оператор <code>/</code>, аналогично файловой системе.</p>\n<h4 id=\"primer\"><a href=\"pages/pointers.html#primer\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">Пример:</span></a>Пример:</h4>\n\n    <div class=\"yfm-clipboard\">\n        <pre><code class=\"hljs scala\"><span class=\"hljs-keyword\">val</span> structLayout = (<span class=\"hljs-string\">\"a\"</span> := <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span>) &gt;&gt;:\n                   (<span class=\"hljs-string\">\"sequence\"</span> := <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span> * <span class=\"hljs-number\">123</span>) &gt;&gt;:\n                   (<span class=\"hljs-string\">\"b\"</span> := <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Char</span>)\n<span class=\"hljs-keyword\">val</span> aPtr = structLayout / <span class=\"hljs-string\">\"a\"</span> / $ <span class=\"hljs-comment\">// MemoryPtr0, указатель на поле a</span>\n<span class=\"hljs-keyword\">val</span> sequencePtr = structLayout / <span class=\"hljs-string\">\"sequence\"</span> / % / $ <span class=\"hljs-comment\">// MemoryPtr1, указатель с размерностью 1, параметризован индексом массива sequence</span>\n<span class=\"hljs-keyword\">val</span> sequence2Ptr = structLayout / <span class=\"hljs-string\">\"sequence\"</span> / <span class=\"hljs-number\">12</span> / $ <span class=\"hljs-comment\">// MemoryPtr0, указатель на 14 элемент массива sequence</span>\n\n</code></pre>\n\n        <button class=\"yfm-clipboard-button\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"6\">\n                <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n                <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n                    <animate id=\"visibileAnimation-6\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n                    <animate id=\"hideAnimation-6\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-6.end+1\" fill=\"freeze\"></animate>\n                </path>\n            </svg>\n        </button>\n    </div>\n<h2 id=\"tablica-termov-dlya\"><a href=\"pages/pointers.html#tablica-termov-dlya\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">Таблица термов для </span></a>Таблица термов для <code>Path</code></h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Терм</th>\n<th style=\"text-align:center\">Применим на Layout</th>\n<th style=\"text-align:center\">Куда углубляемся</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>\"_&lt;имя слоя&gt;_\"</code></td>\n<td style=\"text-align:center\">Dynamic</td>\n<td style=\"text-align:center\">В слой с этим именем</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>i</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">В i-й элемент последовательности</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>(n, m)</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">В подмножество элементов, а именно начиная с элемента n, далее каждый m-ный элемент</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>%</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">В каждый элементов последовательности</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>$</code></td>\n<td style=\"text-align:center\">Value</td>\n<td style=\"text-align:center\">Никуда, конечный слой</td>\n</tr>\n</tbody>\n</table>\n<p>В зависимости от того сколько операторов <code>%</code> и <code>(n, m)</code> было использовано в <code>Path</code> будет возвращен<br />\nсоответствующий <code>MemoryPtr*</code>(существуют <code>MemoryPtr0</code>, <code>MemoryPtr1</code>, ..., <code>MemoryPtr9</code>).</p>\n<h4 id=\"bolshe-primerov\"><a href=\"pages/pointers.html#bolshe-primerov\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">Больше примеров:</span></a>Больше примеров:</h4>\n\n    <div class=\"yfm-clipboard\">\n        <pre><code class=\"hljs scala\"><span class=\"hljs-keyword\">val</span> matrixLayout = <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span> * <span class=\"hljs-number\">5</span> * <span class=\"hljs-number\">6</span>\n<span class=\"hljs-keyword\">val</span> matrixPtr = maxtrixLayout / % / % / $ <span class=\"hljs-comment\">// слой - матрица, не усложненная структурами</span>\n<span class=\"hljs-keyword\">val</span> namedLayout = <span class=\"hljs-string\">\"matrix\"</span> := (<span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span> * <span class=\"hljs-number\">5</span> * <span class=\"hljs-number\">6</span>)\n<span class=\"hljs-keyword\">val</span> matrix = namedLayout / <span class=\"hljs-string\">\"matrix\"</span> / % / % / $\n<span class=\"hljs-keyword\">val</span> oneRow = namedLayout / <span class=\"hljs-string\">\"matrix\"</span> / <span class=\"hljs-number\">0</span> / % / $\n<span class=\"hljs-keyword\">val</span> oneColumn = namedLayout / <span class=\"hljs-string\">\"matrix\"</span> / % / <span class=\"hljs-number\">0</span> / $\n<span class=\"hljs-comment\">// заполнение матрицы нулями</span>\n<span class=\"hljs-keyword\">for</span> (i &lt;- <span class=\"hljs-number\">0</span> until <span class=\"hljs-number\">6</span>) {\n  <span class=\"hljs-keyword\">for</span> (j &lt;- <span class=\"hljs-number\">0</span> until <span class=\"hljs-number\">5</span>) {\n    matrixPtr.set(memory, <span class=\"hljs-number\">0</span>, i, j)\n  }\n}\n<span class=\"hljs-comment\">// заполнение одной строки нулями</span>\n<span class=\"hljs-keyword\">for</span> (i &lt;- <span class=\"hljs-number\">0</span> until <span class=\"hljs-number\">5</span>) {\n  oneRow.set(memory, <span class=\"hljs-number\">0</span>, i)\n}\n</code></pre>\n\n        <button class=\"yfm-clipboard-button\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"88\">\n                <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n                <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n                    <animate id=\"visibileAnimation-88\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n                    <animate id=\"hideAnimation-88\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-88.end+1\" fill=\"freeze\"></animate>\n                </path>\n            </svg>\n        </button>\n    </div>\n<h2 id=\"dostup-k-pamyati\"><a href=\"pages/pointers.html#dostup-k-pamyati\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">Доступ к памяти</span></a>Доступ к памяти</h2>\n<p>Чтение и запись данных осуществляется через объект <code>MemoryPtr*</code> и два метода.</p>\n<ul>\n<li><code>get(memory: Memory[L, R], i1: Long, ...)</code></li>\n<li><code>set(memory: Memory[L, R], value: V, i1: Long, ...)</code></li>\n</ul>\n<p>Количество индексов в методах соответствует размерности <code>MemoryPtr*</code>. Доступ к памяти возможен только для примитивных типов данных, таких как:</p>\n<ul>\n<li><samp>Byte</samp></li>\n<li><samp>Short</samp></li>\n<li><samp>Int</samp></li>\n<li><samp>Long</samp></li>\n<li><samp>Float</samp></li>\n<li><samp>Double</samp></li>\n<li><samp>Char</samp></li>\n<li><samp>Boolean</samp></li>\n</ul>\n","leading":false},"router":{"pathname":"pages/pointers","depth":2},"lang":"ru","langs":["ru"]};
                </script>
                <script src="toc.js" type="application/javascript"></script>
                <script type="application/javascript" src="_bundle/react.js"></script>
<script type="application/javascript" src="_bundle/app.js"></script>
<script type="application/javascript" src="_bundle/vendor.js"></script>
            </body>
        </html>
    