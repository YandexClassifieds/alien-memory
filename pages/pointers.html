
        <!DOCTYPE html>
        <html lang="ru" dir="ltr">
            <head>
                <meta charset="utf-8">
                <base href="../" />
                
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Path и MemoryPtr</title>
                <style type="text/css">
                    body {
                        height: 100vh;
                    }
                </style>
                <link type="text/css" rel="stylesheet" href="_bundle/vendor.css" />
<link type="text/css" rel="stylesheet" href="_bundle/app.css" />
                
                
            </head>
            <body class="g-root g-root_theme_light">
                <div id="root"></div>
                <script type="application/javascript">
                   window.STATIC_CONTENT = false
                   window.__DATA__ = {"data":{"leading":false,"toc":{"href":"index.html","navigation":{"logo":{"text":"Alien","url":"."},"header":{"rightItems":[{"text":"Github","type":"link","url":"https://github.com/YandexClassifieds/alien-memory"}]}},"items":[{"name":"Начало работы","href":"pages/getting_started.html","id":"Начало работы-0-0.7878841647716488"},{"name":"Концепции","expanded":true,"items":[{"name":"Layouts","href":"pages/layouts.html","id":"Layouts-0-0.08873040839205659"},{"name":"Memory pointers","href":"pages/pointers.html","id":"Memory pointers-1-0.5339327883107814"},{"name":"Regions","href":"pages/regions.html","id":"Regions-2-0.6534537343835172"},{"name":"Memory","href":"pages/memory.html","id":"Memory-3-0.004837653997031177"}],"id":"Концепции-1-0.2582966532139368"}],"base":".","deepBase":0},"meta":{"metadata":[],"style":[],"script":[]},"assets":[],"headings":[{"title":"Terms used with Path","href":"pages/pointers.html#terms-used-with","level":2},{"title":"Accessing memory","href":"pages/pointers.html#accessing-memory","level":2}],"title":"Path и MemoryPtr","includes":[],"html":"<p>To access allocated memory, you need to obtain a relative pointer to it <code>MemoryPtr*</code><br />\nIt is used to efficiently access memory at specific offsets.</p>\n<p><code>Path</code> is used to navigate complex data structures defined via <code>Layout</code>.<br />\nNavigation starts with the root Layout. Next layers are accessed using <code>/</code>, same as in file systems.</p>\n<h4 id=\"examples\"><a href=\"pages/pointers.html#examples\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Examples</span></a>Examples</h4>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs scala\"><span class=\"hljs-keyword\">val</span> structLayout = (<span class=\"hljs-string\">\"a\"</span> := <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span>) &gt;&gt;:\n  (<span class=\"hljs-string\">\"sequence\"</span> := <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span> * <span class=\"hljs-number\">123</span>) &gt;&gt;:\n  (<span class=\"hljs-string\">\"b\"</span> := <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Char</span>)\n<span class=\"hljs-keyword\">val</span> aPtr = structLayout / <span class=\"hljs-string\">\"a\"</span> / $ <span class=\"hljs-comment\">// MemoryPtr0 referencing 'a' field</span>\n<span class=\"hljs-keyword\">val</span> sequencePtr = structLayout / <span class=\"hljs-string\">\"sequence\"</span> / % / $ <span class=\"hljs-comment\">// MemoryPtr1, size-1 pointer, parametrized with index in 'sequence' array</span>\n<span class=\"hljs-keyword\">val</span> sequence2Ptr = structLayout / <span class=\"hljs-string\">\"sequence\"</span> / <span class=\"hljs-number\">12</span> / $ <span class=\"hljs-comment\">// MemoryPtr0, referencing 12th element of 'sequence' array</span>\n\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"9\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<h2 id=\"terms-used-with\"><a href=\"pages/pointers.html#terms-used-with\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Terms used with </span></a>Terms used with <code>Path</code></h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Term</th>\n<th style=\"text-align:center\">Layout type</th>\n<th style=\"text-align:center\">Points to</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>\"_&lt;layer_name&gt;_\"</code></td>\n<td style=\"text-align:center\">Dynamic</td>\n<td style=\"text-align:center\">Layer with defined name</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>i</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">sequence element number i</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>(n, m)</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">Subsequence of elements starting with n and then every m'th elements</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>%</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">Every element in sequence</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>$</code></td>\n<td style=\"text-align:center\">Value</td>\n<td style=\"text-align:center\">nowhere, final layer</td>\n</tr>\n</tbody>\n</table>\n<p>Depending on a number of <code>%</code> and <code>(n, m)</code> used in <code>Path</code> <code>MemoryPtr*</code> of the corresponding size will be returned<br />\n(there are <code>MemoryPtr0</code>, <code>MemoryPtr1</code>, ..., <code>MemoryPtr9</code>).</p>\n<h4 id=\"more-examples\"><a href=\"pages/pointers.html#more-examples\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">More examples</span></a>More examples</h4>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs scala\"><span class=\"hljs-keyword\">val</span> matrixLayout = <span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span> * <span class=\"hljs-number\">5</span> * <span class=\"hljs-number\">6</span>\n<span class=\"hljs-keyword\">val</span> matrixPtr = maxtrixLayout / % / % / $ <span class=\"hljs-comment\">// matrix layer, without additional structures</span>\n<span class=\"hljs-keyword\">val</span> namedLayout = <span class=\"hljs-string\">\"matrix\"</span> := (<span class=\"hljs-type\">Values</span>.<span class=\"hljs-type\">Long</span> * <span class=\"hljs-number\">5</span> * <span class=\"hljs-number\">6</span>)\n<span class=\"hljs-keyword\">val</span> matrix = namedLayout / <span class=\"hljs-string\">\"matrix\"</span> / % / % / $\n<span class=\"hljs-keyword\">val</span> oneRow = namedLayout / <span class=\"hljs-string\">\"matrix\"</span> / <span class=\"hljs-number\">0</span> / % / $\n<span class=\"hljs-keyword\">val</span> oneColumn = namedLayout / <span class=\"hljs-string\">\"matrix\"</span> / % / <span class=\"hljs-number\">0</span> / $\n<span class=\"hljs-comment\">// filling matrix with zeroes</span>\n<span class=\"hljs-keyword\">for</span> (i &lt;- <span class=\"hljs-number\">0</span> until <span class=\"hljs-number\">6</span>) {\n  <span class=\"hljs-keyword\">for</span> (j &lt;- <span class=\"hljs-number\">0</span> until <span class=\"hljs-number\">5</span>) {\n    matrixPtr.set(memory, <span class=\"hljs-number\">0</span>, i, j)\n  }\n}\n<span class=\"hljs-comment\">// filling one line with zeroes</span>\n<span class=\"hljs-keyword\">for</span> (i &lt;- <span class=\"hljs-number\">0</span> until <span class=\"hljs-number\">5</span>) {\n  oneRow.set(memory, <span class=\"hljs-number\">0</span>, i)\n}\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"91\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-91\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-91\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-91.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<h2 id=\"accessing-memory\"><a href=\"pages/pointers.html#accessing-memory\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Accessing memory</span></a>Accessing memory</h2>\n<p>Reading from and writing to memory is done via <code>MemoryPtr*</code> and two methods:</p>\n<ul>\n<li><code>get(memory: Memory[L, R], i1: Long, ...)</code></li>\n<li><code>set(memory: Memory[L, R], value: V, i1: Long, ...)</code></li>\n</ul>\n<p>Number of indices in methods is the same as <code>MemoryPtr*</code> size. Only primitive types can be read from memory, such as:</p>\n<ul>\n<li><samp>Byte</samp></li>\n<li><samp>Short</samp></li>\n<li><samp>Int</samp></li>\n<li><samp>Long</samp></li>\n<li><samp>Float</samp></li>\n<li><samp>Double</samp></li>\n<li><samp>Char</samp></li>\n<li><samp>Boolean</samp></li>\n</ul>\n"},"router":{"pathname":"pages/pointers.html"},"lang":"ru","langs":["ru"]};
                </script>
                <script type="application/javascript" src="_bundle/react.js"></script>
<script type="application/javascript" src="_bundle/app.js"></script>
<script type="application/javascript" src="_bundle/vendor.js"></script>
            </body>
        </html>
    