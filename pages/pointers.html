
        <!DOCTYPE html>
        <html lang="ru" dir="ltr">
            <head>
                <meta charset="utf-8">
                <base href="../" />
                
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Path и MemoryPtr</title>
                <style type="text/css">
                    body {
                        height: 100vh;
                    }
                </style>
                <link type="text/css" rel="stylesheet" href="_bundle/vendor.css" />
<link type="text/css" rel="stylesheet" href="_bundle/app.css" />
                
                
            </head>
            <body class="g-root g-root_theme_light">
                <div id="root"></div>
                <script type="application/javascript">
                   window.STATIC_CONTENT = false
                   window.__DATA__ = {"data":{"meta":{"metadata":[],"style":[],"script":[]},"assets":[],"headings":[{"title":"Terms used with Path","href":"pages/pointers.html#terms-used-with","level":2},{"title":"Accessing memory","href":"pages/pointers.html#accessing-memory","level":2}],"title":"Path и MemoryPtr","includes":[],"html":"<p>To access allocated memory, you need to obtain a relative pointer to it <code>MemoryPtr*</code><br />\nIt is used to efficiently access memory at specific offsets.</p>\n<p><code>Path</code> is used to navigate complex data structures defined via <code>Layout</code>.<br />\nNavigation starts with the root Layout. Next layers are accessed using <code>/</code>, same as in file systems.</p>\n<h4 id=\"examples\"><a href=\"pages/pointers.html#examples\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">Examples</span></a>Examples</h4>\n\n    <div class=\"yfm-clipboard\">\n        <pre><code class=\"language-scala\">val structLayout = (\"a\" := Values.Long) &gt;&gt;:\n  (\"sequence\" := Values.Long * 123) &gt;&gt;:\n  (\"b\" := Values.Char)\nval aPtr = structLayout / \"a\" / $ // MemoryPtr0 referencing 'a' field\nval sequencePtr = structLayout / \"sequence\" / % / $ // MemoryPtr1, size-1 pointer, parametrized with index in 'sequence' array\nval sequence2Ptr = structLayout / \"sequence\" / 12 / $ // MemoryPtr0, referencing 12th element of 'sequence' array\n\n</code></pre>\n\n        <button class=\"yfm-clipboard-button\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"9\">\n                <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n                <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n                    <animate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n                    <animate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"></animate>\n                </path>\n            </svg>\n        </button>\n    </div>\n<h2 id=\"terms-used-with\"><a href=\"pages/pointers.html#terms-used-with\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">Terms used with </span></a>Terms used with <code>Path</code></h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Term</th>\n<th style=\"text-align:center\">Layout type</th>\n<th style=\"text-align:center\">Points to</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>\"_&lt;layer_name&gt;_\"</code></td>\n<td style=\"text-align:center\">Dynamic</td>\n<td style=\"text-align:center\">Layer with defined name</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>i</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">sequence element number i</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>(n, m)</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">Subsequence of elements starting with n and then every m'th elements</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>%</code></td>\n<td style=\"text-align:center\">Sequence</td>\n<td style=\"text-align:center\">Every element in sequence</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>$</code></td>\n<td style=\"text-align:center\">Value</td>\n<td style=\"text-align:center\">nowhere, final layer</td>\n</tr>\n</tbody>\n</table>\n<p>Depending on a number of <code>%</code> and <code>(n, m)</code> used in <code>Path</code> <code>MemoryPtr*</code> of the corresponding size will be returned<br />\n(there are <code>MemoryPtr0</code>, <code>MemoryPtr1</code>, ..., <code>MemoryPtr9</code>).</p>\n<h4 id=\"more-examples\"><a href=\"pages/pointers.html#more-examples\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">More examples</span></a>More examples</h4>\n\n    <div class=\"yfm-clipboard\">\n        <pre><code class=\"language-scala\">val matrixLayout = Values.Long * 5 * 6\nval matrixPtr = maxtrixLayout / % / % / $ // matrix layer, without additional structures\nval namedLayout = \"matrix\" := (Values.Long * 5 * 6)\nval matrix = namedLayout / \"matrix\" / % / % / $\nval oneRow = namedLayout / \"matrix\" / 0 / % / $\nval oneColumn = namedLayout / \"matrix\" / % / 0 / $\n// filling matrix with zeroes\nfor (i &lt;- 0 until 6) {\n  for (j &lt;- 0 until 5) {\n    matrixPtr.set(memory, 0, i, j)\n  }\n}\n// filling one line with zeroes\nfor (i &lt;- 0 until 5) {\n  oneRow.set(memory, 0, i)\n}\n</code></pre>\n\n        <button class=\"yfm-clipboard-button\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"91\">\n                <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n                <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n                    <animate id=\"visibileAnimation-91\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n                    <animate id=\"hideAnimation-91\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-91.end+1\" fill=\"freeze\"></animate>\n                </path>\n            </svg>\n        </button>\n    </div>\n<h2 id=\"accessing-memory\"><a href=\"pages/pointers.html#accessing-memory\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\" data-no-index=\"true\">Accessing memory</span></a>Accessing memory</h2>\n<p>Reading from and writing to memory is done via <code>MemoryPtr*</code> and two methods:</p>\n<ul>\n<li><code>get(memory: Memory[L, R], i1: Long, ...)</code></li>\n<li><code>set(memory: Memory[L, R], value: V, i1: Long, ...)</code></li>\n</ul>\n<p>Number of indices in methods is the same as <code>MemoryPtr*</code> size. Only primitive types can be read from memory, such as:</p>\n<ul>\n<li><samp>Byte</samp></li>\n<li><samp>Short</samp></li>\n<li><samp>Int</samp></li>\n<li><samp>Long</samp></li>\n<li><samp>Float</samp></li>\n<li><samp>Double</samp></li>\n<li><samp>Char</samp></li>\n<li><samp>Boolean</samp></li>\n</ul>\n","leading":false},"router":{"pathname":"pages/pointers","depth":2},"lang":"ru","langs":["ru"]};
                </script>
                <script src="toc.js" type="application/javascript"></script>
                <script type="application/javascript" src="_bundle/react.js"></script>
<script type="application/javascript" src="_bundle/app.js"></script>
<script type="application/javascript" src="_bundle/vendor.js"></script>
            </body>
        </html>
    